<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=
    , initial-scale=1.0"
    />
    <title>Data</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <h1>BREAD (Browse, Read, Edit, Add, Delete)</h1>
    <h1>Search Data</h1>
    <form action="" method="get">
      <input type="hidden" name="page" value="1">
      
      <input type="checkbox" id="checkString" onclick="myFunction1()" name="checkString" <%= string ? ' checked' : '' %> />
      <label for="string">String</label> 
      <input type="text" id="string" name="string" placeholder="String.." value="<%= string %>" <%= string ? '' : ' disabled' %>/>

      <input type="checkbox" id="checkAngka" onclick="myFunction2()" <%= angka ? ' checked' : '' %> >
      <label for="integer">Integer</label>
      <input type="number" id="integer" name="integer" placeholder="Integer.." value="<%= angka %>" <%= angka ? '' : ' disabled' %> />

      <input type="checkbox" id="checkDesimal" onclick="myFunction3()" <%= desimal ? ' checked' : '' %> >
      <label for="float">Float</label>
      <input type="number" step="0.01" id="float" name="float" placeholder="Float.." value="<%= desimal %>" <%= desimal ? '' : ' disabled' %> />

      <input type="checkbox" id="checkDate" onclick="myFunction4()" <%= start ? 'checked' : '' %> >
      <label for="date">Date</label><br>
      <input id="start" class="date-search" name="start" type="date" value="<%= start %>" <%= start ? '' : ' disabled' %> > to
      <input id="end" class="date-search" name="end" type="date" value="<%= end %>" <%= end ? '' : ' disabled' %> >
      <br>

      <input type="checkbox" id="checkBoolean" onclick="myFunction5()" <%= booleann ? 'checked' : '' %> >
      <label for="boolean">Boolean</label>
      <select name="boolean" id="boolean" <%= booleann ? '' : ' disabled' %> >
        <option value="">True or False ?</option>
        <option value="true"<%= booleann == 'true' ? ' selected' : '' %> >True</option>
        <option value="false"<%= booleann == 'false' ? ' selected' : '' %>>False</option>
      </select>

     <button type="submit" class="btn-search">Search</button>
     <a href="/" class="btn-add">Reset</a>
    </form>

    <table class="table">
      <tr>
        <th>ID</th>
        <th>String</th>
        <th>Integer</th>
        <th>Float</th>
        <th>Date</th>
        <th>Boolean</th>
        <th>Action</th>
      </tr>


      <% data.forEach((item, index) => { %>
      <tr>
        <td><%= item.id_data%></td>
        <td><%= item.string %></td>
        <td><%= item.angka %></td>
        <td><%= item.desimal %></td>
        <td><%= moment(item.tanggal).format("D MMMM YYYY") %></td>
        <td><%= item.booleann %></td>
        <td>
          <a href="/edit/<%= item.id_data %>" class="btn-edit">Edit</a>
          <a href="/delete/<%= item.id_data %>" class="btn-delete">Delete</a>
        </td>
      </tr>
      <% }) %>
    </table>
    <div class="pagination">
      
       
      <% if(page > 1){ %> 
        <a href="<%= url.replace(`page=${page}`, `page=${page - 1}`)%>">Previous</a>
      <% } %> 
      <% for(let i = 1; i <= jumlahHalaman; i++){ %> 
      <a href="<%= url.replace(`page=${page}`, `page=${i}`) %> "><%= i %> </a>
      <% } %> 
      <% if(page < jumlahHalaman){ %> 
        <a href="<%= url.replace(`page=${page}`, `page=${page + 1}`)%>">Next</a>
      <% } %> 
      
    
     
    </div>
    <div><a href="/add" class="btn-add">Add</a></div>
    <script>
      function myFunction1() {
        const check = document.getElementById('checkString')
        if (check.checked == true) 
        {
        document.getElementById('string').disabled = false;
        }else{
        document.getElementById('string').disabled = true;

        }
      }
      function myFunction2() {
        const check = document.getElementById('checkAngka')
        if (check.checked == true) 
        {
        document.getElementById('integer').disabled = false;
        }else{
        document.getElementById('integer').disabled = true;

        }
      }
      function myFunction3() {
        const check = document.getElementById('checkDesimal')
        if (check.checked == true) 
        {
        document.getElementById('float').disabled = false;
        }else{
        document.getElementById('float').disabled = true;

        }
      }
      function myFunction4() {
        const check = document.getElementById('checkDate')
        if (check.checked == true) 
        {
        document.getElementById('start').disabled = false;
        document.getElementById('end').disabled = false;
        }else{
        document.getElementById('start').disabled = true;
        document.getElementById('end').disabled = true;

        }
      }
      function myFunction5() {
        const check = document.getElementById('checkBoolean')
        if (check.checked == true) 
        {
        document.getElementById('boolean').disabled = false;
        }else{
        document.getElementById('boolean').disabled = true;

        }
      }
      </script>
      
  </body>
</html>
